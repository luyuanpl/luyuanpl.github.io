---
layout: post
date: 2021-10-06
title: 编程小技巧
tags: skills
---

### 统计一个二进制数串中1的个数

```c++
有一个很有意思的特性：随便给一个二进制数，比如n=10001100，我们把它减一：n-1=10001011。重新摆放一下观察：
10001100 (n)

10001011 (n-1)

通过观察得出，n中为1的最低位是第3位，而n-1和n的低3位全都不同。如果进行“按位与”操作，即 n & (n-1) = 10001000。

10001100 (n)

10001011 (n-1)

10001000 (n & (n-1))

可以看到底3位都变成了0,同时也消去了一个1。

可以得出结论：

要消除整数n最低位的1，可以使用 n = n & (n-1)。

利用结论，想要求二进制中有多少个1就很容易了:
```

```c++
int countBits(int n) {
    int count = 0;
    while(n != 0) {
        n = n & (n-1);
        count++;
    }
    return count;
}
```

### 按插入顺序排序的哈希表

`使用unordered_map也没能按照插入顺序排序，在网上查阅资料后，了解到可以使用vector实现`。

```c++
vector< pair<type1,type2> >;//可以将此vector近似看成一个有序哈希表
```

